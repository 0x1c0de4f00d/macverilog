AC_INIT(Makefile.in)

AC_PROG_CC
AC_CHECK_TOOL(STRIP, strip, true)
AC_PROG_INSTALL


AC_CYGWIN
AC_EXEEXT


WIN32=no
AC_MSG_CHECKING("for shared library link flag")
shared=-shared
EXTRALIBS=
case "${host}" in
     *-*-cygwin*)
        shared="-mdll -Wl,--enable-auto-image-base"
	if test $ac_cv_mingw32 = yes; then
	    shared="-shared -Wl,--enable-auto-image-base"
	fi
	WIN32=yes
	;;
     *-*-hpux*)
	shared="-b"
	;;
     *-*-darwin*)
	shared="-bundle -undefined suppress"
	;;
esac
AC_SUBST(shared)
AC_MSG_RESULT($shared)
AC_MSG_CHECKING("for win 32")
AC_SUBST(WIN32)
AC_MSG_RESULT($WIN32)

AC_SUBST(WIN32)
AC_SUBST(EXEEXT)
AC_SUBST(shared)
AC_SUBST(EXTRALIBS)

AC_OUTPUT(Makefile)
